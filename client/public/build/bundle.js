var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function l(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t,e){t.appendChild(e)}function c(t,e,n){t.insertBefore(e,n||null)}function s(t){t.parentNode.removeChild(t)}function a(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function u(t){return document.createElement(t)}function f(t){return document.createTextNode(t)}function d(){return f(" ")}function p(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function m(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function h(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}}function v(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function $(t,e,n){t.classList[n?"add":"remove"](e)}let y;function x(t){y=t}function _(){if(!y)throw new Error("Function called outside component initialization");return y}function w(t){_().$$.on_mount.push(t)}function b(){const t=_();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const l=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);o.slice().forEach(e=>{e.call(t,l)})}}}const k=[],T=[],R=[],E=[],z=Promise.resolve();let C=!1;function M(t){R.push(t)}let S=!1;const Y=new Set;function j(){if(!S){S=!0;do{for(let t=0;t<k.length;t+=1){const e=k[t];x(e),B(e.$$)}for(k.length=0;T.length;)T.pop()();for(let t=0;t<R.length;t+=1){const e=R[t];Y.has(e)||(Y.add(e),e())}R.length=0}while(k.length);for(;E.length;)E.pop()();C=!1,S=!1,Y.clear()}}function B(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(M)}}const F=new Set;let A;function I(){A={r:0,c:[],p:A}}function L(){A.r||o(A.c),A=A.p}function P(t,e){t&&t.i&&(F.delete(t),t.i(e))}function N(t,e,n,o){if(t&&t.o){if(F.has(t))return;F.add(t),A.c.push(()=>{F.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function q(t,e){N(t,1,1,()=>{e.delete(t.key)})}function O(t){t&&t.c()}function W(t,n,r){const{fragment:i,on_mount:c,on_destroy:s,after_update:a}=t.$$;i&&i.m(n,r),M(()=>{const n=c.map(e).filter(l);s?s.push(...n):o(n),t.$$.on_mount=[]}),a.forEach(M)}function D(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function H(t,e){-1===t.$$.dirty[0]&&(k.push(t),C||(C=!0,z.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function G(e,l,r,i,c,a,u=[-1]){const f=y;x(e);const d=l.props||{},p=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:n(),dirty:u};let g=!1;if(p.ctx=r?r(e,d,(t,n,...o)=>{const l=o.length?o[0]:n;return p.ctx&&c(p.ctx[t],p.ctx[t]=l)&&(p.bound[t]&&p.bound[t](l),g&&H(e,t)),n}):[],p.update(),g=!0,o(p.before_update),p.fragment=!!i&&i(p.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);p.fragment&&p.fragment.l(t),t.forEach(s)}else p.fragment&&p.fragment.c();l.intro&&P(e.$$.fragment),W(e,l.target,l.anchor),j()}x(f)}class J{$destroy(){D(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function K(t){let e,n,o,l,r,a;return{c(){e=u("p"),n=f("Shit! Time to get your eggs!"),o=u("span"),l=f(t[1]),r=f(":"),a=f(t[2]),g(o,"class","ticktock svelte-10rjd1e")},m(t,s){c(t,e,s),i(e,n),i(e,o),i(o,l),i(o,r),i(o,a)},p(t,e){2&e&&m(l,t[1]),4&e&&m(a,t[2])},d(t){t&&s(e)}}}function Q(t){let e,n,o,l,r,a,p,h;return{c(){e=u("h4"),e.textContent="Your egg is cooking...",n=d(),o=u("p"),l=f("Remaining: "),r=u("span"),a=f(t[1]),p=f(":"),h=f(t[2]),g(r,"class","ticktock svelte-10rjd1e")},m(t,s){c(t,e,s),c(t,n,s),c(t,o,s),i(o,l),i(o,r),i(r,a),i(r,p),i(r,h)},p(t,e){2&e&&m(a,t[1]),4&e&&m(h,t[2])},d(t){t&&s(e),t&&s(n),t&&s(o)}}}function U(e){let n;function o(t,e){return!0===t[0]?Q:K}let l=o(e),r=l(e);return{c(){n=u("article"),r.c(),g(n,"class","svelte-10rjd1e"),$(n,"timer",!0===e[0]),$(n,"active",!1===e[0])},m(t,e){c(t,n,e),r.m(n,null)},p(t,[e]){l===(l=o(t))&&r?r.p(t,e):(r.d(1),r=l(t),r&&(r.c(),r.m(n,null))),1&e&&$(n,"timer",!0===t[0]),1&e&&$(n,"active",!1===t[0])},i:t,o:t,d(t){t&&s(n),r.d()}}}function V(t,e,n){let o,{secondsRemaining:l}=e,r=!0;let i,c;return w(()=>{o=setInterval(()=>{1===l&&(clearInterval(o),n(0,r=!1)),n(3,l-=1)},1e3)}),t.$set=t=>{"secondsRemaining"in t&&n(3,l=t.secondsRemaining)},t.$$.update=()=>{8&t.$$.dirty&&n(1,i=Math.floor(l/60)),10&t.$$.dirty&&n(2,c=Math.floor(l-60*i).toString().padStart(2,"0"))},[r,i,c,l]}class X extends J{constructor(t){super(),G(this,t,V,U,r,{secondsRemaining:3})}}function Z(t,e,n){const o=t.slice();return o[12]=e[n],o}function tt(t,e,n){const o=t.slice();return o[15]=e[n],o}function et(t,e,n){const o=t.slice();return o[18]=e[n],o}function nt(t){let e,n,o,l,r=t[18].name+"";return{c(){e=u("option"),n=f(r),o=d(),e.__value=l=t[18].size,e.value=e.__value},m(t,l){c(t,e,l),i(e,n),i(e,o)},p(t,o){2&o&&r!==(r=t[18].name+"")&&m(n,r),2&o&&l!==(l=t[18].size)&&(e.__value=l,e.value=e.__value)},d(t){t&&s(e)}}}function ot(e){let n,o,l,r,a=e[15].type+"";return{c(){n=u("option"),o=f(a),l=d(),n.__value=r=e[15].temperature,n.value=n.__value},m(t,e){c(t,n,e),i(n,o),i(n,l)},p:t,d(t){t&&s(n)}}}function lt(e){let n,o,l,r,a=e[12].type+"";return{c(){n=u("option"),o=f(a),l=d(),n.__value=r=e[12].temperature,n.value=n.__value},m(t,e){c(t,n,e),i(n,o),i(n,l)},p:t,d(t){t&&s(n)}}}function rt(e){let n,l,r,m,v,$,y,x,_,w,b,k,T,R,E,z,C,S,Y,j,B,F,A=e[1],I=[];for(let t=0;t<A.length;t+=1)I[t]=nt(et(e,A,t));let L=e[2],P=[];for(let t=0;t<L.length;t+=1)P[t]=ot(tt(e,L,t));let N=e[3],q=[];for(let t=0;t<N.length;t+=1)q[t]=lt(Z(e,N,t));return{c(){n=u("section"),l=u("h3"),l.textContent="Register new timer",r=d(),m=u("form"),v=u("div"),$=u("label"),y=f("Size:\n        "),x=u("select");for(let t=0;t<I.length;t+=1)I[t].c();_=d(),w=u("div"),b=u("label"),k=f("From:\n        "),T=u("select");for(let t=0;t<P.length;t+=1)P[t].c();R=d(),E=u("div"),z=u("label"),C=f("I want:\n        "),S=u("select");for(let t=0;t<q.length;t+=1)q[t].c();Y=d(),j=u("button"),j.textContent="Click to add",g(l,"class","svelte-g1dxde"),g(x,"name","size"),g(x,"class","svelte-g1dxde"),void 0===e[0].size&&M(()=>e[6].call(x)),g($,"for","size"),g($,"class","svelte-g1dxde"),g(v,"class","svelte-g1dxde"),g(T,"name","initialtemp"),g(T,"class","svelte-g1dxde"),void 0===e[0].initialTemp&&M(()=>e[7].call(T)),g(b,"for","initialtemp"),g(b,"class","svelte-g1dxde"),g(w,"class","svelte-g1dxde"),g(S,"name","boil-target"),g(S,"class","svelte-g1dxde"),void 0===e[0].targetYolkTemp&&M(()=>e[8].call(S)),g(z,"for","boil-target"),g(z,"class","svelte-g1dxde"),g(E,"class","svelte-g1dxde"),g(j,"class","svelte-g1dxde"),g(m,"class","svelte-g1dxde"),g(n,"class","svelte-g1dxde")},m(t,o){c(t,n,o),i(n,l),i(n,r),i(n,m),i(m,v),i(v,$),i($,y),i($,x);for(let t=0;t<I.length;t+=1)I[t].m(x,null);h(x,e[0].size),i(m,_),i(m,w),i(w,b),i(b,k),i(b,T);for(let t=0;t<P.length;t+=1)P[t].m(T,null);h(T,e[0].initialTemp),i(m,R),i(m,E),i(E,z),i(z,C),i(z,S);for(let t=0;t<q.length;t+=1)q[t].m(S,null);var s;h(S,e[0].targetYolkTemp),i(m,Y),i(m,j),B||(F=[p(x,"change",e[6]),p(T,"change",e[7]),p(S,"change",e[8]),p(j,"click",(s=e[4],function(t){return t.preventDefault(),s.call(this,t)}))],B=!0)},p(t,[e]){if(2&e){let n;for(A=t[1],n=0;n<A.length;n+=1){const o=et(t,A,n);I[n]?I[n].p(o,e):(I[n]=nt(o),I[n].c(),I[n].m(x,null))}for(;n<I.length;n+=1)I[n].d(1);I.length=A.length}if(3&e&&h(x,t[0].size),4&e){let n;for(L=t[2],n=0;n<L.length;n+=1){const o=tt(t,L,n);P[n]?P[n].p(o,e):(P[n]=ot(o),P[n].c(),P[n].m(T,null))}for(;n<P.length;n+=1)P[n].d(1);P.length=L.length}if(3&e&&h(T,t[0].initialTemp),8&e){let n;for(N=t[3],n=0;n<N.length;n+=1){const o=Z(t,N,n);q[n]?q[n].p(o,e):(q[n]=lt(o),q[n].c(),q[n].m(S,null))}for(;n<q.length;n+=1)q[n].d(1);q.length=N.length}3&e&&h(S,t[0].targetYolkTemp)},i:t,o:t,d(t){t&&s(n),a(I,t),a(P,t),a(q,t),B=!1,o(F)}}}function it(t,e,n){let{userlocation:o}=e;const l=b();let r={size:15,initialTemp:4,waterTemp:100,targetYolkTemp:65},i=[{type:"Loading...",temperature:65}];w(async()=>{n(1,i=await(async()=>(await(await fetch("http://localhost:8080/api/regions")).json()).data[0].eggs)());const t=await(await fetch(`http://localhost:8080/api/elevations/${o.latitude}/${o.longitude}`)).json();n(0,r.waterTemp=(t=>100-t/150*.5)(t.data.elevation),r),console.log("Water temp set to",r.waterTemp,"for elevation of",t.data.elevation)});return t.$set=t=>{"userlocation"in t&&n(5,o=t.userlocation)},[r,i,[{type:"Fridge",temperature:4},{type:"Room",temperature:20}],[{type:"Soft Boiled",temperature:65},{type:"Medium Boiled",temperature:73},{type:"Hard Boiled",temperature:85}],()=>{l("add",r)},o,function(){r.size=v(this),n(0,r),n(1,i)},function(){r.initialTemp=v(this),n(0,r),n(1,i)},function(){r.targetYolkTemp=v(this),n(0,r),n(1,i)}]}class ct extends J{constructor(t){super(),G(this,t,it,rt,r,{userlocation:5})}}function st(t,e,n){const o=t.slice();return o[12]=e[n],o[13]=e,o[14]=n,o}function at(t){let e,n,o,l,r,a=[],f=new Map;n=new ct({props:{userlocation:t[1]}}),n.$on("add",t[4]);let p=t[0];const m=t=>t[12].id;for(let e=0;e<p.length;e+=1){let n=st(t,p,e),o=m(n);f.set(o,a[e]=ft(o,n))}return{c(){e=u("div"),O(n.$$.fragment),o=d(),l=u("ul");for(let t=0;t<a.length;t+=1)a[t].c();g(l,"class","svelte-3uer3n"),g(e,"class","content svelte-3uer3n")},m(t,s){c(t,e,s),W(n,e,null),i(e,o),i(e,l);for(let t=0;t<a.length;t+=1)a[t].m(l,null);r=!0},p(t,e){const o={};if(2&e&&(o.userlocation=t[1]),n.$set(o),1&e){const n=t[0];I(),a=function(t,e,n,o,l,r,i,c,s,a,u,f){let d=t.length,p=r.length,g=d;const m={};for(;g--;)m[t[g].key]=g;const h=[],v=new Map,$=new Map;for(g=p;g--;){const t=f(l,r,g),c=n(t);let s=i.get(c);s?o&&s.p(t,e):(s=a(c,t),s.c()),v.set(c,h[g]=s),c in m&&$.set(c,Math.abs(g-m[c]))}const y=new Set,x=new Set;function _(t){P(t,1),t.m(c,u),i.set(t.key,t),u=t.first,p--}for(;d&&p;){const e=h[p-1],n=t[d-1],o=e.key,l=n.key;e===n?(u=e.first,d--,p--):v.has(l)?!i.has(o)||y.has(o)?_(e):x.has(l)?d--:$.get(o)>$.get(l)?(x.add(o),_(e)):(y.add(l),d--):(s(n,i),d--)}for(;d--;){const e=t[d];v.has(e.key)||s(e,i)}for(;p;)_(h[p-1]);return h}(a,e,m,1,t,n,f,l,q,ft,null,st),L()}},i(t){if(!r){P(n.$$.fragment,t);for(let t=0;t<p.length;t+=1)P(a[t]);r=!0}},o(t){N(n.$$.fragment,t);for(let t=0;t<a.length;t+=1)N(a[t]);r=!1},d(t){t&&s(e),D(n);for(let t=0;t<a.length;t+=1)a[t].d()}}}function ut(e){let n,o,l,r,i;return{c(){n=u("p"),n.textContent="This app works best with geolocation enabled. Would you like to enable this now?",o=d(),l=u("button"),l.textContent="Yes please!"},m(t,s){c(t,n,s),c(t,o,s),c(t,l,s),r||(i=p(l,"click",e[5]),r=!0)},p:t,i:t,o:t,d(t){t&&s(n),t&&s(o),t&&s(l),r=!1,i()}}}function ft(t,e){let n,o,l,r;function i(t){e[6].call(null,t,e[12])}let a={};return void 0!==e[12].secondsRemaining&&(a.secondsRemaining=e[12].secondsRemaining),o=new X({props:a}),T.push(()=>function(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}(o,"secondsRemaining",i)),{key:t,first:null,c(){n=f(""),O(o.$$.fragment),this.first=n},m(t,e){c(t,n,e),W(o,t,e),r=!0},p(t,n){e=t;const r={};var i;!l&&1&n&&(l=!0,r.secondsRemaining=e[12].secondsRemaining,i=()=>l=!1,E.push(i)),o.$set(r)},i(t){r||(P(o.$$.fragment,t),r=!0)},o(t){N(o.$$.fragment,t),r=!1},d(t){t&&s(n),D(o,t)}}}function dt(t){let e,n,o,l,r,a;const f=[ut,at],p=[];function m(t,e){return t[2]?1:0}return l=m(t),r=p[l]=f[l](t),{c(){e=u("main"),n=u("h1"),n.textContent="Egg",o=d(),r.c(),g(n,"class","svelte-3uer3n"),g(e,"class","svelte-3uer3n")},m(t,r){c(t,e,r),i(e,n),i(e,o),p[l].m(e,null),a=!0},p(t,[n]){let o=l;l=m(t),l===o?p[l].p(t,n):(I(),N(p[o],1,1,()=>{p[o]=null}),L(),r=p[l],r||(r=p[l]=f[l](t),r.c()),P(r,1),r.m(e,null))},i(t){a||(P(r),a=!0)},o(t){N(r),a=!1},d(t){t&&s(e),p[l].d()}}}function pt(t,e,n){let o,{timers:l}=e,r=0,i=!1;const c=async()=>{const t=navigator.geolocation;var e;t?n(1,o=(await(e=t,new Promise((t,n)=>{e.getCurrentPosition(t,n)}))).coords):console.log("Be nice and accept.")},s=t=>{const e=Math.round(60*t*100/100).toFixed(2);return parseFloat(e)},a=t=>{const e=.15*(t.size/Math.PI)**2,n=2*(t.waterTemp-t.initialTemp)/(t.waterTemp-t.targetYolkTemp);return e*Math.log(n)};return t.$set=t=>{"timers"in t&&n(0,l=t.timers)},[l,o,i,c,t=>{const e={id:(r+=1,r),secondsRemaining:s(a(t.detail))};n(0,l=[...l,e])},()=>{n(2,i=!0),c()},function(t,e){e.secondsRemaining=t,n(0,l)}]}return new class extends J{constructor(t){super(),G(this,t,pt,dt,r,{timers:0})}}({target:document.body,props:{timers:[]}})}();
//# sourceMappingURL=bundle.js.map
